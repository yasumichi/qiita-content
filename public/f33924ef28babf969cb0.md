---
title: GitBucket Markdown Enhanced Plugin の強化
tags:
  - Scala
  - GitBucket
  - flexmark-java
private: false
updated_at: '2025-08-03T10:30:09+09:00'
id: f33924ef28babf969cb0
organization_url_name: null
slide: false
ignorePublish: false
---

## 概要

[GitHub](https://github.com/) のようにネットワーク上で [Git](https://git-scm.com/) リポジトリを共有できる Web サービス [GitBucket](https://gitbucket.github.io/)用のプラグイン [GitBucket Markdown Enhanced Plugin](https://github.com/yasumichi/gitbucket-markdown-enhanced)を開発していきます。

GitBucket Markdown Enhanced Plugin は、GitBucket 標準のマークダウンレンダリングエンジンを置き換えるプラグインです。

目標は、[Visual Studio Code](https://code.visualstudio.com/) の [Markdown Preview Enhanced](https://shd101wyy.github.io/markdown-preview-enhanced/#/) 向けの markdown ファイルを軽易に Web で共有できる環境です。

実現できない機能もあるかと思いますが、できるだけ、近づけたいと考えます。

## 前回の記事

https://qiita.com/yasumichi/items/4a72493c03d5858a391a

## 実装できている機能とそうでない機能の整理

前回は、レンダリングエンジンが置き換えられるかを主眼に置いていたので Markdown Preview Enhanced の機能との対比は先送りしていました。

ここで実現できている機能とそうでない機能の整理をしたいと思います。

- [x] [Basic Syntax](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=syntax-guide)
- [Extended syntax](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=extended-syntax)
  - [ ] [Table](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=table)
  - [x] [Emoji & Font-Awesome](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=emoji-amp-font-awesome)(Emoji only)
  - [x] [Superscript](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=superscript)(0.1.1 で追加)
  - [x] [Subscript](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=subscript)(0.1.1 で追加)
  - [x] [Footnotes](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=footnotes)
  - [ ] [Abbreviation](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=abbreviation) ([AbbreviationExtension](https://github.com/vsch/flexmark-java/wiki/Extensions#abbreviationl) で実現可能)
  - [ ] [Mark](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=mark) (既存機能では実現不可)
  - [ ] [CriticMarkup](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=criticmarkup) (デフォルト無効なので要望がなければ実装しない。)
  - [ ] [Admonition](https://shd101wyy.github.io/markdown-preview-enhanced/#/markdown-basics?id=admonition) ([Admonition Extension](https://github.com/vsch/flexmark-java/wiki/Admonition-Extension) で実現可能。ただし、別途、css と javascript が必要)
- [x] [Math Typesetting](https://shd101wyy.github.io/markdown-preview-enhanced/#/math)(Katex only)
- [Diagrams](https://shd101wyy.github.io/markdown-preview-enhanced/#/diagrams)
  - [x] [Mermaid](https://shd101wyy.github.io/markdown-preview-enhanced/#/diagrams?id=mermaid)
  - [ ] [PlantUML](https://shd101wyy.github.io/markdown-preview-enhanced/#/diagrams?id=plantuml)
  - [ ] [WaveDrom](https://shd101wyy.github.io/markdown-preview-enhanced/#/diagrams?id=wavedrom)
  - [ ] [GraphViz](https://shd101wyy.github.io/markdown-preview-enhanced/#/diagrams?id=graphviz)([SeaPig](https://github.com/yasumichi/seapig)で実装経験あり)
  - [ ] [Vega and Vega-lite](https://shd101wyy.github.io/markdown-preview-enhanced/#/diagrams?id=vega-and-vega-lite)
  - [ ] [Kroki](https://shd101wyy.github.io/markdown-preview-enhanced/#/diagrams?id=kroki)
- [x] [Table of Contents](https://shd101wyy.github.io/markdown-preview-enhanced/#/toc)(サイドバー非対応)
- [ ] [File Imports](https://shd101wyy.github.io/markdown-preview-enhanced/#/file-imports)
- [ ] [Code Chunk](https://shd101wyy.github.io/markdown-preview-enhanced/#/code-chunk)
- [ ] [Presentation](https://shd101wyy.github.io/markdown-preview-enhanced/#/presentation)
- [ ] [Pandoc](https://shd101wyy.github.io/markdown-preview-enhanced/#/pandoc)

## 前回の記事以降に追加した機能

### Subscript(下付き文字)

[StrikethroughExtension](https://github.com/vsch/flexmark-java/wiki/Extensions#gfm-strikethroughsubscript) を `StrikethroughSubscriptExtension` に置き換え、Subscript に対応しました。

`H~2~O` のように書くと `2` が下付き文字になります。(H~2~O)

### Superscript(上付き文字)

[SuperscriptExtension](https://github.com/vsch/flexmark-java/wiki/Extensions#superscript)

`x^2^` の用に書くと `2` が上付き文字になります。(x^2^)

## 今回の記事で追加する機能

### Abbreviation

[AbbreviationExtension](https://github.com/vsch/flexmark-java/wiki/Extensions#abbreviation)

```scala
import com.vladsch.flexmark.ext.abbreviation.AbbreviationExtension
```

略語を表現できます。

```markdown
*[HTML]: Hyper Text Markup Language
*[W3C]: World Wide Web Consortium
The HTML specification
is maintained by the W3C.
```

以下のように変換されます。

<p>The <abbr title="Hyper Text Markup Language">HTML</abbr> specification
is maintained by the <abbr title="World Wide Web Consortium">W3C</abbr>.</p>

### Admonition

[AdmonitionExtension](https://github.com/vsch/flexmark-java/wiki/Extensions#admonition)

```scala
import com.vladsch.flexmark.ext.admonition.AdmonitionExtension
```

用例など補足事項を記述できます。Markdown Preview Enhanced とは文法が若干、異なります。

```markdown
!!! qualifier "Optional Title"
    block content 
```

上記のように書くと以下のように表示されます。

![admonition.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/36738/62c7fb8e-0d77-4497-9a80-9a5458bb6572.png)

## 成果物

ここまでの成果をバージョン[0.2.0](https://github.com/yasumichi/gitbucket-markdown-enhanced/releases/tag/0.2.0)としてリリースしました。

## 次回予告

次は、PlantUML への対応を行いたいと思います。
